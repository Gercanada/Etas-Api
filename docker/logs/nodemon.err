node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:174:12)
    at /usr/src/app/dist/controllers/AttachmentController.js:118:13
    at Generator.next (<anonymous>)
    at fulfilled (/usr/src/app/dist/controllers/AttachmentController.js:5:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
/usr/src/app/dist/controllers/AttachmentController.js:146
        const data = yield client.send(command);
                     ^^^^^

SyntaxError: Unexpected strict mode reserved word
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1274:20)
    at Module._compile (node:internal/modules/cjs/loader:1320:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:4:32)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:10
], listBucketContent);
   ^

ReferenceError: listBucketContent is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:10:4)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:10
], listBucketContent);
   ^

ReferenceError: listBucketContent is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:10:4)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.contentType (/usr/src/app/node_modules/express/lib/response.js:624:15)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:149:14)
    at /usr/src/app/dist/controllers/AttachmentController.js:123:13
    at Generator.next (<anonymous>)
    at /usr/src/app/dist/controllers/AttachmentController.js:31:71
    at new Promise (<anonymous>)
    at __awaiter (/usr/src/app/dist/controllers/AttachmentController.js:27:12) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.contentType (/usr/src/app/node_modules/express/lib/response.js:624:15)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:149:14)
    at /usr/src/app/dist/controllers/AttachmentController.js:123:13
    at Generator.next (<anonymous>)
    at /usr/src/app/dist/controllers/AttachmentController.js:31:71
    at new Promise (<anonymous>)
    at __awaiter (/usr/src/app/dist/controllers/AttachmentController.js:27:12) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.contentType (/usr/src/app/node_modules/express/lib/response.js:624:15)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:149:14)
    at /usr/src/app/dist/controllers/AttachmentController.js:122:13
    at Generator.next (<anonymous>)
    at /usr/src/app/dist/controllers/AttachmentController.js:31:71
    at new Promise (<anonymous>)
    at __awaiter (/usr/src/app/dist/controllers/AttachmentController.js:27:12) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', upload.single('file'), [
                 ^

ReferenceError: upload is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', express_1.upload.single('file'), [
                                  ^

TypeError: Cannot read properties of undefined (reading 'single')
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:35)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', upload.single('file'), [
                 ^

ReferenceError: upload is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
node:internal/validators:162
    throw new ERR_INVALID_ARG_TYPE(name, 'string', value);
    ^

TypeError [ERR_INVALID_ARG_TYPE]: The "id" argument must be of type string. Received undefined
    at new NodeError (node:internal/errors:405:5)
    at validateString (node:internal/validators:162:11)
    at Module.require (node:internal/modules/cjs/loader:1218:3)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:3:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19) {
  code: 'ERR_INVALID_ARG_TYPE'
}

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', upload.single('file'), [
                 ^

ReferenceError: upload is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', upload.single('file'), [
                 ^

ReferenceError: upload is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:11
router.post('/', upload.single('file'), [
                 ^

ReferenceError: upload is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
/usr/src/app/dist/routes/AttachmentRoute.js:7
const upload = multer({ dest: 'uploads/' }); // Guarda los archivos en la carpeta 'uploads'
               ^

ReferenceError: multer is not defined
    at Object.<anonymous> (/usr/src/app/dist/routes/AttachmentRoute.js:7:16)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/usr/src/app/dist/models/server.js:28:43)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)

Node.js v18.19.0
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:174:12)
    at /usr/src/app/dist/controllers/AttachmentController.js:125:13
    at Generator.next (<anonymous>)
    at fulfilled (/usr/src/app/dist/controllers/AttachmentController.js:28:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
node:internal/errors:496
    ErrorCaptureStackTrace(err);
    ^

Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client
    at new NodeError (node:internal/errors:405:5)
    at ServerResponse.setHeader (node:_http_outgoing:648:11)
    at ServerResponse.header (/usr/src/app/node_modules/express/lib/response.js:794:10)
    at ServerResponse.send (/usr/src/app/node_modules/express/lib/response.js:174:12)
    at /usr/src/app/dist/controllers/AttachmentController.js:125:13
    at Generator.next (<anonymous>)
    at fulfilled (/usr/src/app/dist/controllers/AttachmentController.js:28:58)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {
  code: 'ERR_HTTP_HEADERS_SENT'
}

Node.js v18.19.0
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.
